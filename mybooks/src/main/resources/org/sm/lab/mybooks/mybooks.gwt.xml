<module rename-to="mybooks">
	<!-- Inherit the core Web Toolkit stuff. -->
	<inherits name="com.google.gwt.core.Core" />
	<inherits name='com.google.gwt.user.User' />
	<inherits name="com.google.gwt.i18n.I18N" />
	<inherits name="com.google.gwt.i18n.CldrLocales" />
	<inherits name="com.google.gwt.user.theme.clean.Clean" />
	
	<inherits name="com.googlecode.mgwt.MGWT" />
	
	<!-- Built-in framework for browser history management -->
	<inherits name="com.google.gwt.activity.Activity"/>
    <inherits name="com.google.gwt.place.Place"/>
	
	<inherits name='org.hibernate.validator.HibernateValidator' />

	<!-- Enable debug ID. -->
	<inherits name="com.google.gwt.user.Debug" />
	<set-property name="gwt.enableDebugId" value="true" />
	
	<!-- Limit permutations -->
<!-- 	<set-property name="user.agent" value="safari" /> -->

	<!-- GWT dispatch -->
	<inherits name='net.customware.gwt.dispatch.Dispatch' />
	
	<!-- GWT-log -->
  	<inherits name="com.allen_sauer.gwt.log.gwt-log-DEBUG" />
  	<!-- GWT-log remote logging -->
  	<inherits name="com.allen_sauer.gwt.log.gwt-log-RemoteLogger" />
  	<set-property name="log_DivLogger" value="DISABLED" />

	<!-- Specify the app entry point class. -->
	<entry-point class='org.sm.lab.mybooks.client.MyBooks' />

	<!-- Internationalization support. -->
	<extend-property name="locale" values="en" />

	<extend-property name="locale" values="ar" />
	<extend-property name="locale" values="fr" />
	<extend-property name="locale" values="zh" />

	<set-property-fallback name="locale" value="en" />
	<set-configuration-property name="locale.cookie"
		value="SHOWCASE_LOCALE" />
	<set-configuration-property name="locale.useragent"
		value="Y" />
	
	<!-- Specify the paths for translatable code -->
	<source path='client' />
	<source path='shared' />

	<!-- Specify the Validator for the Validation bootstrap to use. -->
	<replace-with
		class="org.sm.lab.mybooks.client.validation.AppValidationFactory">
		<when-type-is class="javax.validation.ValidatorFactory" />
	</replace-with>

	<!-- TODO figure out how to make this a attribute of the GwtValidation annotation -->
	<!-- specify the ValidationMessageResolver to use for your custom validation 
		messages -->
	<replace-with
		class="org.sm.lab.mybooks.client.validation.CustomValidationMessagesResolver">
		<when-type-is
			class="com.google.gwt.validation.client.UserValidationMessagesResolver" />
	</replace-with>
	
	<inherits name="org.sm.lab.mybooks.FormFactor" />

	<replace-with class="org.sm.lab.mybooks.client.ui.desktop.ClientFactoryDesktopImpl">
		<when-type-is class="org.sm.lab.mybooks.client.ClientFactory" />
	</replace-with>

	<replace-with class="org.sm.lab.mybooks.client.ui.phone.ClientFactoryPhoneImpl">
		<when-type-is class="org.sm.lab.mybooks.client.ClientFactory" />
		<when-property-is name="formfactor" value="phone" />
	</replace-with>
	

</module>
